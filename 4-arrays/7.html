<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tehtävä 7</title>
</head>
<body>
<script>
  'use strict';
  let i, x,  votes=[], vote;

  const candidates = +prompt ('Anna ehdokkaiden lukumäärä');
  const voters = +prompt ('Anna äänestäjien lukumäärä');

  for (i = 0; i<candidates; i++) {
    votes[i] = 0;
  }

  for (i=0; i<voters; i++){
    x=i+1;
    vote = +prompt ('Äänistäjä '+x+', ketä haluat äänistä? 1-'+candidates+', tai 0-tyhjä');
    if (vote<0 || vote>candidates){
    }
    else {
      votes[vote-1]++;
    }

  }

  x=indexOfMax(votes)+1;

  document.write('Ehdokas numero '+x+' on voitanut ääniin '+votes[x-1]);



  function indexOfMax(arr) {
    if (arr.length === 0) {
      return -1;
    }

    let max = arr[0];
    let maxIndex = 0;

    for (let i = 1; i < arr.length; i++) {
      if (arr[i] > max) {
        maxIndex = i;
        max = arr[i];
      }
    }

    return maxIndex;
  }

</script>
</body>
</html>